<!DOCTYPE html>
<html>
	<head>
		<meta charset="utf-8">
		<title></title>
		<style type="text/css">
			.kuang {
				width: 300px;
				height: 400px;
				overflow: hidden;
				background: #0000FF;
				border: 1px solid black;
				position: relative;
			}

			.text {
				width: 280px;
				background: white;
				position: absolute;
				border: 1px solid black;
				left: 0px;
				top: 0px;
				/* top: -987px; */
			}

			.jidu {
				width: 20px;
				height: 100%;
				background: blanchedalmond;
				position: absolute;
				left: 280px;
			}

			.slider {
				width: 100%;
				height: 50px;
				background: blueviolet;
				border-radius: 30px;
				position: absolute;
				top: 0px;
				/* top: 350px; */
			}
		</style>
	</head>
	<body>
		<div class="kuang">
			<div class="text">

				百度一下，百度搜索网站的广告语，完整广告语为“百度一下，你就知道”。在2005年被确定为广告语以后，便流行开来。...
				百度一下，百度搜索网站的广告语，完整广告语为“百度一下，你就知道”。在2005年被确定为广告语以后，便流行开来。...
				百度一下，百度搜索网站的广告语，完整广告语为“百度一下，你就知道”。在2005年被确定为广告语以后，便流行开来。...
				百度一下，百度搜索网站的广告语，完整广告语为“百度一下，你就知道”。在2005年被确定为广告语以后，便流行开来。...
				百度一下，百度搜索网站的广告语，完整广告语为“百度一下，你就知道”。在2005年被确定为广告语以后，便流行开来。...
				百度一下，百度搜索网站的广告语，完整广告语为“百度一下，你就知道”。在2005年被确定为广告语以后，便流行开来。...
				百度一下，百度搜索网站的广告语，完整广告语为“百度一下，你就知道”。在2005年被确定为广告语以后，便流行开来。...
				百度一下，百度搜索网站的广告语，完整广告语为“百度一下，你就知道”。在2005年被确定为广告语以后，便流行开来。...
				百度一下，百度搜索网站的广告语，完整广告语为“百度一下，你就知道”。在2005年被确定为广告语以后，便流行开来。...
				百度一下，百度搜索网站的广告语，完整广告语为“百度一下，你就知道”。在2005年被确定为广告语以后，便流行开来。...
				百度一下，百度搜索网站的广告语，完整广告语为“百度一下，你就知道”。在2005年被确定为广告语以后，便流行开来。...
				百度一下，百度搜索网站的广告语，完整广告语为“百度一下，你就知道”。在2005年被确定为广告语以后，便流行开来。...
				百度一下，百度搜索网站的广告语，完整广告语为“百度一下，你就知道”。在2005年被确定为广告语以后，便流行开来。...
				百度一下，百度搜索网站的广告语，完整广告语为“百度一下，你就知道”。在2005年被确定为广告语以后，便流行开来。...
				百度一下，百度搜索网站的广告语，完整广告语为“百度一下，你就知道”。在2005年被确定为广告语以后，便流行开来。...
				百度一下，百度搜索网站的广告语，完整广告语为“百度一下，你就知道”。在2005年被确定为广告语以后，便流行开来。...
				百度一下，百度搜索网站的广告语，完整广告语为“百度一下，你就知道”。在2005年被确定为广告语以后，便流行开来。...
				百度一下，百度搜索网站的广告语，完整广告语为“百度一下，你就知道”。在2005年被确定为广告语以后，便流行开来。...
				百度一下，百度搜索网站的广告语，完整广告语为“百度一下，你就知道”。在2005年被确定为广告语以后，便流行开来。...
				百度一下，百度搜索网站的广告语，完整广告语为“百度一下，你就知道”。在2005年被确定为广告语以后，便流行开来。...

			</div>
			<div class="jidu">
				<div class="slider">

				</div>
			</div>


		</div>
	</body>
	<script type="text/javascript">
		var kuang = document.querySelector(".kuang");
		var text = document.querySelector(".text");
		var slider = document.querySelector(".slider");
		var jidu = document.querySelector(".jidu");
		
		
		
		my_scroll_fn(text, function(e, down) {
			// console.log(this, e, down)
		
			if (down == true) {
				x = x + bu_ju
				if (x >= 0) {
					x = 0
				}
			} else {
				x = x - bu_ju
				if (x <= text_distance) {
					x = text_distance
				}
			}
			x_1 = x / text_distance * slider_of_distance;
			text.style.top = x + "px";
			slider.style.top = x_1 + "px";
		
			console.log(text.style.top);
			console.log(slider.style.top);
		})
		
		
		
		var y = 0
		var x = 0;
		var x_1 = 0;
		var bu_ju = 10
		var text_distance = kuang.offsetHeight - text.offsetHeight
		var slider_of_distance = jidu.offsetHeight - slider.offsetHeight
		// console.log(text_distance)
		var m_t = slider.getBoundingClientRect().top;
		var mouse_down = false
		// console.log(m_t)
		jidu.addEventListener("click", function(event) {

			event.preventDefault();
			y = event.clientY - slider.offsetHeight / 2 - m_t
			// console.log(y)
			if (y >= slider_of_distance - slider.offsetHeight / 2) {
				y = slider_of_distance
			}
			if (y <= 0) {
				y = 0
			}
			slider.style.top = y + "px"
			text.style.top = y / slider_of_distance * text_distance + "px"
			x = y / slider_of_distance * text_distance
			x_1 = y


		}, true);


		slider.addEventListener("mousedown", function(event) {
			mouse_down = true
		}, true);


		slider.addEventListener("mousemove", function(event) {
			event.preventDefault();
			if (mouse_down == true) {
				y = event.clientY - slider.offsetHeight / 2 - m_t
				// console.log(y)
				if (y >= slider_of_distance - slider.offsetHeight / 2) {
					y = slider_of_distance
				}
				if (y <= 0) {
					y = 0
				}

				slider.style.top = y + "px"
				text.style.top = y / slider_of_distance * text_distance + "px"
				x = y / slider_of_distance * text_distance
				x_1 = y
				console.log(y)
			}

			if (mouse_down == false) {
				console.log("wucyucdewiucbewiunfiuew")
			}
		}, true)


		slider.addEventListener("mouseup", function(event) {
			mouse_down = false
		}, true);



		function my_scroll_fn(ele, cb_fn) {
			var is_Chrome = window.navigator.userAgent.indexOf("Chrome")
			if (is_Chrome !== -1) {
				ele.addEventListener("mousewheel", ff, true)
			} else {
				ele.addEventListener("DOMMouseScroll", ff, false)
			}
			var down = false

			function ff(event) {
				// console.log(event)
				var event = event || window.event
				event.preventDefault();
				if (event.preventDefault) {
					event.preventDefault();
				} else {
					event.cancelBubble = true
				}
				if (is_Chrome !== -1) {

					down = (event.wheelDelta > 0)
				} else {

					down = !(event.detail > 0)
				}
				cb_fn.call(ele, event, down)
			}
		}








		
	</script>
</html>
